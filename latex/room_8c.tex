\hypertarget{room_8c}{}\doxysection{src/server/room.c File Reference}
\label{room_8c}\index{src/server/room.c@{src/server/room.c}}
{\ttfamily \#include \char`\"{}room.\+h\char`\"{}}\newline
{\ttfamily \#include $<$arpa/inet.\+h$>$}\newline
{\ttfamily \#include $<$err.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$netdb.\+h$>$}\newline
{\ttfamily \#include $<$netinet/in.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}commands.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}logger.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}message.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}xalloc.\+h\char`\"{}}\newline
Include dependency graph for room.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{room_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsend__pool}{send\+\_\+pool}} $\ast$ \mbox{\hyperlink{room_8c_a329b19a19803d4a12c030c638f12f7c5}{return\+\_\+forged\+\_\+error\+\_\+message}} (char $\ast$command, char $\ast$payload, int send\+\_\+socket)
\item 
struct \mbox{\hyperlink{structroom}{room}} $\ast$ \mbox{\hyperlink{room_8c_ac32507e64a7f7399971d75bda37c526b}{add\+\_\+room}} (struct \mbox{\hyperlink{structroom}{room}} $\ast$\mbox{\hyperlink{structroom}{room}}, const char $\ast$room\+\_\+name, int owner\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Add a new room room to the linked list room. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structroom}{room}} $\ast$ \mbox{\hyperlink{room_8c_a94c22f6317fb18032ebcb2598b4e8523}{remove\+\_\+room}} (struct \mbox{\hyperlink{structroom}{room}} $\ast$\mbox{\hyperlink{structroom}{room}}, const char $\ast$room\+\_\+name, int demander\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Remove the room room from the linked list room. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structroom}{room}} $\ast$ \mbox{\hyperlink{room_8c_a69144af99b4765ffbb794ce40941e479}{find\+\_\+room}} (struct \mbox{\hyperlink{structroom}{room}} $\ast$\mbox{\hyperlink{structroom}{room}}, const char $\ast$room\+\_\+name)
\begin{DoxyCompactList}\small\item\em Find the room element where the socket is equal to room sock. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{room_8c_ac32507e64a7f7399971d75bda37c526b}\label{room_8c_ac32507e64a7f7399971d75bda37c526b}} 
\index{room.c@{room.c}!add\_room@{add\_room}}
\index{add\_room@{add\_room}!room.c@{room.c}}
\doxysubsubsection{\texorpdfstring{add\_room()}{add\_room()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structroom}{room}} $\ast$ add\+\_\+room (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroom}{room}} $\ast$}]{room,  }\item[{const char $\ast$}]{room\+\_\+name,  }\item[{int}]{owner\+\_\+socket }\end{DoxyParamCaption})}



Add a new room room to the linked list room. 


\begin{DoxyParams}{Parameters}
{\em room} & The room linked list with all the rooms \\
\hline
{\em room\+\_\+name} & The name of the room to add must be alphanumeric, else errno is set to ROOM\+\_\+\+ERROR\+\_\+\+BAD\+\_\+\+NAME must be unique (not already in linked list), else errno is set to ROOM\+\_\+\+ERROR\+\_\+\+DUPPLICATE\+\_\+\+NAME \\
\hline
{\em owner\+\_\+socket} & The socket FD of the room owner\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The room linked list with the element added 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{room_8c_source_l00035}{35}} of file \mbox{\hyperlink{room_8c_source}{room.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{room_8c_ac32507e64a7f7399971d75bda37c526b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{room_8c_ac32507e64a7f7399971d75bda37c526b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{room_8c_a69144af99b4765ffbb794ce40941e479}\label{room_8c_a69144af99b4765ffbb794ce40941e479}} 
\index{room.c@{room.c}!find\_room@{find\_room}}
\index{find\_room@{find\_room}!room.c@{room.c}}
\doxysubsubsection{\texorpdfstring{find\_room()}{find\_room()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structroom}{room}} $\ast$ find\+\_\+room (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroom}{room}} $\ast$}]{room,  }\item[{const char $\ast$}]{room\+\_\+name }\end{DoxyParamCaption})}



Find the room element where the socket is equal to room sock. 


\begin{DoxyParams}{Parameters}
{\em room} & The room linked list with all the rooms \\
\hline
{\em room\+\_\+name} & The room name to find\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The room element of the specific room, if not found errno is set to ROOM\+\_\+\+ERROR\+\_\+\+NOT\+\_\+\+FOUND 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{room_8c_source_l00112}{112}} of file \mbox{\hyperlink{room_8c_source}{room.\+c}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{room_8c_a69144af99b4765ffbb794ce40941e479_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{room_8c_a94c22f6317fb18032ebcb2598b4e8523}\label{room_8c_a94c22f6317fb18032ebcb2598b4e8523}} 
\index{room.c@{room.c}!remove\_room@{remove\_room}}
\index{remove\_room@{remove\_room}!room.c@{room.c}}
\doxysubsubsection{\texorpdfstring{remove\_room()}{remove\_room()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structroom}{room}} $\ast$ remove\+\_\+room (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroom}{room}} $\ast$}]{room,  }\item[{const char $\ast$}]{room\+\_\+name,  }\item[{int}]{demander\+\_\+socket }\end{DoxyParamCaption})}



Remove the room room from the linked list room. 


\begin{DoxyParams}{Parameters}
{\em room} & The room linked list with all the rooms \\
\hline
{\em room\+\_\+name} & The room name to remove, must be included in the linked list else errno is set to ROOM\+\_\+\+ERROR\+\_\+\+NOT\+\_\+\+FOUND \\
\hline
{\em demander\+\_\+socket} & The socket FD of the client who wants to remove the room, must be the owner of the room else errno is set to ROOM\+\_\+\+ERROR\+\_\+\+UNAUTHORIZED\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The room linked list with the element removed 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{room_8c_source_l00078}{78}} of file \mbox{\hyperlink{room_8c_source}{room.\+c}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=296pt]{room_8c_a94c22f6317fb18032ebcb2598b4e8523_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{room_8c_a329b19a19803d4a12c030c638f12f7c5}\label{room_8c_a329b19a19803d4a12c030c638f12f7c5}} 
\index{room.c@{room.c}!return\_forged\_error\_message@{return\_forged\_error\_message}}
\index{return\_forged\_error\_message@{return\_forged\_error\_message}!room.c@{room.c}}
\doxysubsubsection{\texorpdfstring{return\_forged\_error\_message()}{return\_forged\_error\_message()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structsend__pool}{send\+\_\+pool}} $\ast$ return\+\_\+forged\+\_\+error\+\_\+message (\begin{DoxyParamCaption}\item[{char $\ast$}]{command,  }\item[{char $\ast$}]{payload,  }\item[{int}]{send\+\_\+socket }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{room_8c_source_l00019}{19}} of file \mbox{\hyperlink{room_8c_source}{room.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{room_8c_a329b19a19803d4a12c030c638f12f7c5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{room_8c_a329b19a19803d4a12c030c638f12f7c5_icgraph}
\end{center}
\end{figure}

\hypertarget{epoll__handler_8c}{}\doxysection{src/server/epoll/epoll\+\_\+handler.c File Reference}
\label{epoll__handler_8c}\index{src/server/epoll/epoll\_handler.c@{src/server/epoll/epoll\_handler.c}}
{\ttfamily \#include \char`\"{}epoll\+\_\+handler.\+h\char`\"{}}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$netdb.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/epoll.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include \char`\"{}client.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}commands.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}logger.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}message.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}safe\+\_\+io.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}xalloc.\+h\char`\"{}}\newline
Include dependency graph for epoll\+\_\+handler.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{epoll__handler_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{epoll__handler_8c_a2ce9f59acdc6ec21207b19376448105c}{accept\+\_\+client}} (int \mbox{\hyperlink{client__main_8c_a9329c4790c307301a22f6d23cdc23edd}{server\+\_\+socket}})
\begin{DoxyCompactList}\small\item\em Accept a new client. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{epoll__handler_8c_a0860b9e51fefecae303da19ee82e0b2e}{communicate}} (int client\+\_\+socket)
\begin{DoxyCompactList}\small\item\em Handle communication with the server. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{epoll__handler_8c_a563c714502d84960831913304caca7f3}{epoll\+\_\+instance}}
\item 
struct \mbox{\hyperlink{structclient}{client}} $\ast$ \mbox{\hyperlink{epoll__handler_8c_ab13b91cda85acbe50143a8d0cbec99f8}{clients}}
\begin{DoxyCompactList}\small\item\em Contain all the information about all clients (linked list) \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structroom}{room}} $\ast$ \mbox{\hyperlink{epoll__handler_8c_a812b1516514fa66f13f80e0e352ae9ca}{rooms}}
\begin{DoxyCompactList}\small\item\em Contain all the information about all rooms (linked list) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{epoll__handler_8c_a2ce9f59acdc6ec21207b19376448105c}\label{epoll__handler_8c_a2ce9f59acdc6ec21207b19376448105c}} 
\index{epoll\_handler.c@{epoll\_handler.c}!accept\_client@{accept\_client}}
\index{accept\_client@{accept\_client}!epoll\_handler.c@{epoll\_handler.c}}
\doxysubsubsection{\texorpdfstring{accept\_client()}{accept\_client()}}
{\footnotesize\ttfamily void accept\+\_\+client (\begin{DoxyParamCaption}\item[{int}]{socket }\end{DoxyParamCaption})}



Accept a new client. 

Accept a new client and add it to the {\ttfamily struct client}


\begin{DoxyParams}{Parameters}
{\em socket} & listening socket\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new socket 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{epoll__handler_8c_source_l00058}{58}} of file \mbox{\hyperlink{epoll__handler_8c_source}{epoll\+\_\+handler.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{epoll__handler_8c_a2ce9f59acdc6ec21207b19376448105c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{epoll__handler_8c_a0860b9e51fefecae303da19ee82e0b2e}\label{epoll__handler_8c_a0860b9e51fefecae303da19ee82e0b2e}} 
\index{epoll\_handler.c@{epoll\_handler.c}!communicate@{communicate}}
\index{communicate@{communicate}!epoll\_handler.c@{epoll\_handler.c}}
\doxysubsubsection{\texorpdfstring{communicate()}{communicate()}}
{\footnotesize\ttfamily void communicate (\begin{DoxyParamCaption}\item[{int}]{server\+\_\+socket }\end{DoxyParamCaption})}



Handle communication with the server. 

Establish recv/send communication with the client.

Handle communication with a client.


\begin{DoxyParams}{Parameters}
{\em server\+\_\+socket} & server socket\\
\hline
\end{DoxyParams}
Read user message from STDIN and send it to the server

Step 2\+: This function sends small messages to the server

Step 3\+: In addition to step 2 behavior, this function receives the server response on small messages

Step 4\+: The function must now handle long messages 

Definition at line \mbox{\hyperlink{epoll__handler_8c_source_l00085}{85}} of file \mbox{\hyperlink{epoll__handler_8c_source}{epoll\+\_\+handler.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{epoll__handler_8c_a0860b9e51fefecae303da19ee82e0b2e_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{epoll__handler_8c_ab13b91cda85acbe50143a8d0cbec99f8}\label{epoll__handler_8c_ab13b91cda85acbe50143a8d0cbec99f8}} 
\index{epoll\_handler.c@{epoll\_handler.c}!clients@{clients}}
\index{clients@{clients}!epoll\_handler.c@{epoll\_handler.c}}
\doxysubsubsection{\texorpdfstring{clients}{clients}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structclient}{client}}$\ast$ clients\hspace{0.3cm}{\ttfamily [extern]}}



Contain all the information about all clients (linked list) 



Definition at line \mbox{\hyperlink{client_8h_source_l00012}{12}} of file \mbox{\hyperlink{client_8h_source}{client.\+h}}.

\mbox{\Hypertarget{epoll__handler_8c_a563c714502d84960831913304caca7f3}\label{epoll__handler_8c_a563c714502d84960831913304caca7f3}} 
\index{epoll\_handler.c@{epoll\_handler.c}!epoll\_instance@{epoll\_instance}}
\index{epoll\_instance@{epoll\_instance}!epoll\_handler.c@{epoll\_handler.c}}
\doxysubsubsection{\texorpdfstring{epoll\_instance}{epoll\_instance}}
{\footnotesize\ttfamily int epoll\+\_\+instance\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{epoll__handler_8h_source_l00010}{10}} of file \mbox{\hyperlink{epoll__handler_8h_source}{epoll\+\_\+handler.\+h}}.

\mbox{\Hypertarget{epoll__handler_8c_a812b1516514fa66f13f80e0e352ae9ca}\label{epoll__handler_8c_a812b1516514fa66f13f80e0e352ae9ca}} 
\index{epoll\_handler.c@{epoll\_handler.c}!rooms@{rooms}}
\index{rooms@{rooms}!epoll\_handler.c@{epoll\_handler.c}}
\doxysubsubsection{\texorpdfstring{rooms}{rooms}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structroom}{room}}$\ast$ rooms\hspace{0.3cm}{\ttfamily [extern]}}



Contain all the information about all rooms (linked list) 



Definition at line \mbox{\hyperlink{room_8h_source_l00013}{13}} of file \mbox{\hyperlink{room_8h_source}{room.\+h}}.


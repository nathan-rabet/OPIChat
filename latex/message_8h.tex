\hypertarget{message_8h}{}\doxysection{include/message.h File Reference}
\label{message_8h}\index{include/message.h@{include/message.h}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for message.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{message_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{message_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmessage}{message}}
\begin{DoxyCompactList}\small\item\em Structure to store the parsed message. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcommand__parameter}{command\+\_\+parameter}}
\begin{DoxyCompactList}\small\item\em Structure to store a command parameter. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{message_8h_ad6c5c0fc281afcd9ebf73e88020c835f}{message\+\_\+status\+\_\+code}} \{ \mbox{\hyperlink{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa7c38dee28cc443c7d05d01fdd48666cc}{REQUEST\+\_\+\+MESSAGE\+\_\+\+CODE}} = 0
, \mbox{\hyperlink{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa9df86d3c8b256e82225b9fdd5c7397aa}{RESPONSE\+\_\+\+MESSAGE\+\_\+\+CODE}} = 1
, \mbox{\hyperlink{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa5ab883514599aac5ee28829c01baae9c}{NOTIFICATION\+\_\+\+MESSAGE\+\_\+\+CODE}} = 2
, \mbox{\hyperlink{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa0d42846a4c4e20af60ddd15d6f5e4d3c}{ERROR\+\_\+\+MESSAGE\+\_\+\+CODE}} = 3
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmessage}{message}} $\ast$ \mbox{\hyperlink{message_8h_abeba53932f51cf0ac12dd3a1dc8bf1ff}{init\+\_\+message}} (uint8\+\_\+t status\+\_\+code)
\begin{DoxyCompactList}\small\item\em Initializes a struct message with the param status code affected. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structmessage}{message}} $\ast$ \mbox{\hyperlink{message_8h_a3b73b25240ab9cd5fb472c05281e3f5c}{parse\+\_\+message}} (const char $\ast$request\+\_\+string)
\begin{DoxyCompactList}\small\item\em Take a message as a string and parse it into a message struct. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{message_8h_aafafca753919c7d770812f5c47b5fe7f}{free\+\_\+message}} (struct \mbox{\hyperlink{structmessage}{message}} $\ast$\mbox{\hyperlink{structmessage}{message}})
\begin{DoxyCompactList}\small\item\em Free the memory allocated by a struct message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{message_8h_a5bcae38822e01fd2316aede529617559}{free\+\_\+partial\+\_\+message}} (struct \mbox{\hyperlink{structmessage}{message}} $\ast$\mbox{\hyperlink{structmessage}{message}})
\begin{DoxyCompactList}\small\item\em Like {\ttfamily free\+\_\+message}, but disalocate a non-\/valid struct message. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{message_8h_a28d4651376c79b584f48cf6ea0e2089a}{get\+\_\+message\+\_\+next\+\_\+parameter\+\_\+kv}} (char $\ast$params\+\_\+start, char $\ast$$\ast$key, char $\ast$$\ast$value)
\begin{DoxyCompactList}\small\item\em Get the next key value object. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{message_8h_a4b7e770d6370564c3fcdab29984e8ae0}{compose\+\_\+message}} (const struct \mbox{\hyperlink{structmessage}{message}} $\ast$\mbox{\hyperlink{structmessage}{message}})
\begin{DoxyCompactList}\small\item\em Takes a message struct and serializes it to a string. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{message_8h_ad6c5c0fc281afcd9ebf73e88020c835f}\label{message_8h_ad6c5c0fc281afcd9ebf73e88020c835f}} 
\index{message.h@{message.h}!message\_status\_code@{message\_status\_code}}
\index{message\_status\_code@{message\_status\_code}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{message\_status\_code}{message\_status\_code}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{message_8h_ad6c5c0fc281afcd9ebf73e88020c835f}{message\+\_\+status\+\_\+code}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{REQUEST\_MESSAGE\_CODE@{REQUEST\_MESSAGE\_CODE}!message.h@{message.h}}\index{message.h@{message.h}!REQUEST\_MESSAGE\_CODE@{REQUEST\_MESSAGE\_CODE}}}\mbox{\Hypertarget{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa7c38dee28cc443c7d05d01fdd48666cc}\label{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa7c38dee28cc443c7d05d01fdd48666cc}} 
REQUEST\+\_\+\+MESSAGE\+\_\+\+CODE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{RESPONSE\_MESSAGE\_CODE@{RESPONSE\_MESSAGE\_CODE}!message.h@{message.h}}\index{message.h@{message.h}!RESPONSE\_MESSAGE\_CODE@{RESPONSE\_MESSAGE\_CODE}}}\mbox{\Hypertarget{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa9df86d3c8b256e82225b9fdd5c7397aa}\label{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa9df86d3c8b256e82225b9fdd5c7397aa}} 
RESPONSE\+\_\+\+MESSAGE\+\_\+\+CODE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{NOTIFICATION\_MESSAGE\_CODE@{NOTIFICATION\_MESSAGE\_CODE}!message.h@{message.h}}\index{message.h@{message.h}!NOTIFICATION\_MESSAGE\_CODE@{NOTIFICATION\_MESSAGE\_CODE}}}\mbox{\Hypertarget{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa5ab883514599aac5ee28829c01baae9c}\label{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa5ab883514599aac5ee28829c01baae9c}} 
NOTIFICATION\+\_\+\+MESSAGE\+\_\+\+CODE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ERROR\_MESSAGE\_CODE@{ERROR\_MESSAGE\_CODE}!message.h@{message.h}}\index{message.h@{message.h}!ERROR\_MESSAGE\_CODE@{ERROR\_MESSAGE\_CODE}}}\mbox{\Hypertarget{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa0d42846a4c4e20af60ddd15d6f5e4d3c}\label{message_8h_ad6c5c0fc281afcd9ebf73e88020c835fa0d42846a4c4e20af60ddd15d6f5e4d3c}} 
ERROR\+\_\+\+MESSAGE\+\_\+\+CODE&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{message_8h_source_l00006}{6}} of file \mbox{\hyperlink{message_8h_source}{message.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{message_8h_a4b7e770d6370564c3fcdab29984e8ae0}\label{message_8h_a4b7e770d6370564c3fcdab29984e8ae0}} 
\index{message.h@{message.h}!compose\_message@{compose\_message}}
\index{compose\_message@{compose\_message}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{compose\_message()}{compose\_message()}}
{\footnotesize\ttfamily char $\ast$ compose\+\_\+message (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structmessage}{message}} $\ast$}]{message }\end{DoxyParamCaption})}



Takes a message struct and serializes it to a string. 


\begin{DoxyParams}{Parameters}
{\em message} & The message as a message struct\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char pointer 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{message__serializer_8c_source_l00041}{41}} of file \mbox{\hyperlink{message__serializer_8c_source}{message\+\_\+serializer.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{message_8h_a4b7e770d6370564c3fcdab29984e8ae0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{message_8h_a4b7e770d6370564c3fcdab29984e8ae0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{message_8h_aafafca753919c7d770812f5c47b5fe7f}\label{message_8h_aafafca753919c7d770812f5c47b5fe7f}} 
\index{message.h@{message.h}!free\_message@{free\_message}}
\index{free\_message@{free\_message}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{free\_message()}{free\_message()}}
{\footnotesize\ttfamily void free\+\_\+message (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmessage}{message}} $\ast$}]{message }\end{DoxyParamCaption})}



Free the memory allocated by a struct message. 

\begin{DoxyWarning}{Warning}
MUST NOT be used on incomplete struct message
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em message} & The struct message to free \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{message__free_8c_source_l00005}{5}} of file \mbox{\hyperlink{message__free_8c_source}{message\+\_\+free.\+c}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{message_8h_aafafca753919c7d770812f5c47b5fe7f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{message_8h_a5bcae38822e01fd2316aede529617559}\label{message_8h_a5bcae38822e01fd2316aede529617559}} 
\index{message.h@{message.h}!free\_partial\_message@{free\_partial\_message}}
\index{free\_partial\_message@{free\_partial\_message}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{free\_partial\_message()}{free\_partial\_message()}}
{\footnotesize\ttfamily void free\+\_\+partial\+\_\+message (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structmessage}{message}} $\ast$}]{message }\end{DoxyParamCaption})}



Like {\ttfamily free\+\_\+message}, but disalocate a non-\/valid struct message. 

\begin{DoxyNote}{Note}
This function is less efficient than {\ttfamily free\+\_\+message}
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em message} & The struct message to free \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{message__free_8c_source_l00018}{18}} of file \mbox{\hyperlink{message__free_8c_source}{message\+\_\+free.\+c}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{message_8h_a5bcae38822e01fd2316aede529617559_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{message_8h_a28d4651376c79b584f48cf6ea0e2089a}\label{message_8h_a28d4651376c79b584f48cf6ea0e2089a}} 
\index{message.h@{message.h}!get\_message\_next\_parameter\_kv@{get\_message\_next\_parameter\_kv}}
\index{get\_message\_next\_parameter\_kv@{get\_message\_next\_parameter\_kv}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{get\_message\_next\_parameter\_kv()}{get\_message\_next\_parameter\_kv()}}
{\footnotesize\ttfamily int get\+\_\+message\+\_\+next\+\_\+parameter\+\_\+kv (\begin{DoxyParamCaption}\item[{char $\ast$}]{params\+\_\+start,  }\item[{char $\ast$$\ast$}]{key,  }\item[{char $\ast$$\ast$}]{value }\end{DoxyParamCaption})}



Get the next key value object. 

\begin{DoxyWarning}{Warning}
This function modifies the input string
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em params\+\_\+start} & The start of the parameters \\
\hline
{\em key} & The key of the object, NULL if no key \\
\hline
{\em value} & The value of the object, NULL if no value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
offset to the next object, 0 if no more object 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{message__command__parameters_8c_source_l00007}{7}} of file \mbox{\hyperlink{message__command__parameters_8c_source}{message\+\_\+command\+\_\+parameters.\+c}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{message_8h_a28d4651376c79b584f48cf6ea0e2089a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{message_8h_abeba53932f51cf0ac12dd3a1dc8bf1ff}\label{message_8h_abeba53932f51cf0ac12dd3a1dc8bf1ff}} 
\index{message.h@{message.h}!init\_message@{init\_message}}
\index{init\_message@{init\_message}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{init\_message()}{init\_message()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmessage}{message}} $\ast$ init\+\_\+message (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{status\+\_\+code }\end{DoxyParamCaption})}



Initializes a struct message with the param status code affected. 


\begin{DoxyParams}{Parameters}
{\em status\+\_\+code} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
struct message$\ast$ 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{message__init_8c_source_l00004}{4}} of file \mbox{\hyperlink{message__init_8c_source}{message\+\_\+init.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{message_8h_abeba53932f51cf0ac12dd3a1dc8bf1ff_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{message_8h_abeba53932f51cf0ac12dd3a1dc8bf1ff_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{message_8h_a3b73b25240ab9cd5fb472c05281e3f5c}\label{message_8h_a3b73b25240ab9cd5fb472c05281e3f5c}} 
\index{message.h@{message.h}!parse\_message@{parse\_message}}
\index{parse\_message@{parse\_message}!message.h@{message.h}}
\doxysubsubsection{\texorpdfstring{parse\_message()}{parse\_message()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmessage}{message}} $\ast$ parse\+\_\+message (\begin{DoxyParamCaption}\item[{const char $\ast$}]{request\+\_\+string }\end{DoxyParamCaption})}



Take a message as a string and parse it into a message struct. 


\begin{DoxyParams}{Parameters}
{\em request\+\_\+string} & The message as a string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
struct message, NULL if error or invalid message 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{message__parser_8c_source_l00008}{8}} of file \mbox{\hyperlink{message__parser_8c_source}{message\+\_\+parser.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{message_8h_a3b73b25240ab9cd5fb472c05281e3f5c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{message_8h_a3b73b25240ab9cd5fb472c05281e3f5c_icgraph}
\end{center}
\end{figure}
